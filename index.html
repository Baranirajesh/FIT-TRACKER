<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Track your gym workouts and progressive overload">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Fit Tracker">
    
    <title>Fit Workout Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%2300ff88' width='192' height='192'/><text x='50%' y='50%' font-size='100' font-weight='bold' text-anchor='middle' dy='.3em' fill='%231a1a2e'>üí™</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">üí™ Fit Tracker</h1>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Home Screen -->
            <section class="screen active" id="homeScreen" data-screen="home">
                <div class="screen-content">
                    <div class="welcome-section">
                        <h2>Welcome Back! üèãÔ∏è</h2>
                        <p>Track your workouts and crush your fitness goals</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Today</div>
                            <div class="stat-value" id="todayCount">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">This Week</div>
                            <div class="stat-value" id="weekCount">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total</div>
                            <div class="stat-value" id="totalCount">0</div>
                        </div>
                    </div>

                    <div class="recent-section">
                        <h3>Recent Workouts</h3>
                        <div id="recentWorkouts" class="workout-list">
                            <p class="empty-state">No workouts yet. Start by adding one!</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add Workout Screen -->
            <section class="screen" id="addScreen" data-screen="add">
                <div class="screen-content">
                    <h2>Log Workout</h2>

                    <div class="muscle-tabs">
                        <button class="tab-btn active" data-muscle="CHEST">Chest</button>
                        <button class="tab-btn" data-muscle="BACK">Back</button>
                        <button class="tab-btn" data-muscle="BICEPS">Biceps</button>
                        <button class="tab-btn" data-muscle="TRICEPS">Triceps</button>
                        <button class="tab-btn" data-muscle="LEGS">Legs</button>
                    </div>

                    <div class="form-group">
                        <label for="exerciseSelect">Exercise</label>
                        <select id="exerciseSelect" class="form-control">
                            <option value="">Select an exercise</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="setsInput">Sets</label>
                            <input type="number" id="setsInput" class="form-control" min="0" max="20" placeholder="0">
                        </div>
                        <div class="form-group">
                            <label for="repsInput">Reps</label>
                            <input type="number" id="repsInput" class="form-control" min="0" max="50" placeholder="0">
                        </div>
                        <div class="form-group" id="weightGroup">
                            <label for="weightInput"><span id="weightLabel">Weight (kg)</span></label>
                            <input type="number" id="weightInput" class="form-control" min="0" step="0.5" placeholder="0">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dateInput">Date</label>
                        <input type="date" id="dateInput" class="form-control">
                    </div>

                    <div id="previousBest" class="info-box" style="display: none;">
                        <p><strong>Previous Best:</strong> <span id="prevBestText"></span></p>
                    </div>

                    <div id="progressiveIndicator" class="progress-box" style="display: none;"></div>

                    <button class="btn btn-primary btn-block" id="submitWorkout">Log Workout</button>
                </div>
            </section>

            <!-- Progress Screen -->
            <section class="screen" id="progressScreen" data-screen="progress">
                <div class="screen-content">
                    <h2>Progress Tracking</h2>

                    <div class="form-group">
                        <label for="exerciseFilter">Select Exercise</label>
                        <select id="exerciseFilter" class="form-control">
                            <option value="">All Exercises</option>
                        </select>
                    </div>

                    <div class="chart-container">
                        <canvas id="progressChart"></canvas>
                        <p id="chartEmpty" class="empty-state">No data to display yet</p>
                    </div>

                    <div class="stats-detail">
                        <h3>Statistics</h3>
                        <div id="statsContent" class="stats-list">
                            <p class="empty-state">Start logging workouts to see statistics</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Screen -->
            <section class="screen" id="settingsScreen" data-screen="settings">
                <div class="screen-content">
                    <h2>Settings</h2>

                    <div class="settings-group">
                        <h3>Appearance</h3>
                        <div class="setting-item">
                            <span>Dark Mode</span>
                            <button class="toggle-switch" id="themeToggleSettings">
                                <span class="toggle-thumb"></span>
                            </button>
                        </div>
                    </div>

                    <div class="settings-group">
                        <h3>Data Management</h3>
                        <button class="btn btn-secondary btn-block" id="exportData">üì• Export Workouts</button>
                        <button class="btn btn-danger btn-block" id="clearData">üóëÔ∏è Clear All Data</button>
                    </div>

                    <div class="settings-group">
                        <h3>About</h3>
                        <p>Fit Tracker v1.0</p>
                        <p>Track your workouts and progressive overload</p>
                    </div>

                    <div class="settings-group" id="installSection" style="display: none;">
                        <button class="btn btn-primary btn-block" id="installApp">üì≤ Install App</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-nav="home">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">Home</span>
            </button>
            <button class="nav-item" data-nav="add">
                <span class="nav-icon">‚ûï</span>
                <span class="nav-label">Add</span>
            </button>
            <button class="nav-item" data-nav="progress">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Progress</span>
            </button>
            <button class="nav-item" data-nav="settings">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label">Settings</span>
            </button>
        </nav>
    </div>

    <!-- Workout Modal -->
    <div class="modal" id="workoutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Workout Details</h3>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="workoutDetail"></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="deleteWorkout">Delete</button>
                <button class="btn btn-primary" id="closeModalBtn">Close</button>
            </div>
        </div>
    </div>

    <!-- Confirm Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Action</h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage"></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="confirmCancel">Cancel</button>
                <button class="btn btn-danger" id="confirmYes">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js').catch(err => {
                console.log('Service Worker not available');
            });
        }
    </script>
    <script src="script.js"></script>
</body>
</html>